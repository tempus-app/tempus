<ng-container>
	<mat-grid-list cols="2" rowHeight="50px" [gutterSize]="'0.8em'">
		<mat-grid-tile colspan="2" rowspan="3">
			<div class="info-title">
				<h2 class="mat-h2">Work Experience</h2>
				<button
					mat-mini-fab
					(click)="addWorkSections()"
					matTooltip="Add more work experience sections"
					class="experience-button"
					color="primary"
				>
					<mat-icon>add</mat-icon>
				</button>
			</div>
		</mat-grid-tile>
		<mat-grid-tile
			*ngFor="let numExperience of totalWorkExperience.controls; let index = index"
			colspan="2"
			rowspan="{{ rows }}"
			id="work-experience-{{ index }}"
		>
			<tempus-card>
				<mat-card-content>
					<form>
						<div class="card-header">
							<div class="experience-button">
								<button
									mat-mini-fab
									(click)="removeWorkSection(index)"
									matTooltip="Remove work experience section"
									color="primary"
								>
									<mat-icon>remove</mat-icon>
								</button>
							</div>
							<div>
								<h3 class="mat-h3">Work Experience {{ index + 1 }}</h3>
							</div>
						</div>
						<mat-grid-list cols="6" rowHeight="100px">
							<mat-grid-tile colspan="{{ workCols }}">
								<tempus-text-input
									id="title-{{ index }}"
									placeholder="Title"
									cssClass="secondary"
									[control]="$any(numExperience).get('title')"
								>
								</tempus-text-input>
							</mat-grid-tile>
							<mat-grid-tile colspan="{{ workCols }}">
								<tempus-text-input
									id="company-{{ index }}"
									placeholder="Company"
									cssClass="secondary"
									[control]="$any(numExperience).get('company')"
								>
								</tempus-text-input>
							</mat-grid-tile>
							<mat-grid-tile colspan="{{ locationCols }}">
								<tempus-search-box
									id="country-{{ index }}"
									[options]="countries"
									placeholder="Country"
									cssClass="secondary"
									(optionSelect)="updateStateOptions($event)"
									[control]="$any(numExperience).get('country')"
								></tempus-search-box>
							</mat-grid-tile>
							<mat-grid-tile colspan="{{ locationCols }}">
								<tempus-dropdown
									id="state-{{ index }}"
									[options]="states"
									label="State"
									cssClass="secondary"
									[control]="$any(numExperience).get('state')"
								></tempus-dropdown>
							</mat-grid-tile>
							<mat-grid-tile colspan="{{ locationCols }}">
								<tempus-text-input
									id="city-{{ index }}"
									placeholder="City"
									cssClass="secondary"
									[control]="$any(numExperience).get('city')"
								></tempus-text-input>
							</mat-grid-tile>
							<mat-grid-tile colspan="3">
								<tempus-text-input
									id="start-date-{{ index }}"
									[inputType]="InputType.DATE"
									placeholder="Start Date"
									cssClass="secondary"
									[control]="$any(numExperience).get('startDate')"
								></tempus-text-input>
							</mat-grid-tile>
							<mat-grid-tile colspan="3">
								<tempus-text-input
									id="end-date-{{ index }}"
									[inputType]="InputType.DATE"
									placeholder="End Date"
									cssClass="secondary"
									[control]="$any(numExperience).get('endDate')"
								></tempus-text-input>
							</mat-grid-tile>
							<mat-grid-tile colspan="6" rowspan="2">
								<tempus-text-area
									id="description-{{ index }}"
									placeholder="Description"
									cssClass="secondary"
									[control]="$any(numExperience).get('description')"
								>
								</tempus-text-area>
							</mat-grid-tile>
						</mat-grid-list>
					</form>
				</mat-card-content>
			</tempus-card>
		</mat-grid-tile>
	</mat-grid-list>
	<div class="button-container">
		<button color="primary" mat-raised-button matStepperPrevious type="button" (click)="backStep()">Back</button>
		<button
			color="primary"
			mat-raised-button
			matStepperNext="button"
			[disabled]="!myInfoForm.valid"
			(click)="nextStep()"
		>
			Next
		</button>
	</div>
</ng-container>
