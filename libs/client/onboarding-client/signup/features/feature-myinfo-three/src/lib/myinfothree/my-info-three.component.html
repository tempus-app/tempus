<ng-container>
	<div fxLayout="column" fxFill fxLayoutGap="30px">
		<div fxFlex>
			<div fxFlex="5"></div>
			<div class="info-title">
				<h2 class="mat-h2">{{ myInfoThreePrefix + 'education.title' | translate }}</h2>
			</div>
			<div>
				<button
					mat-mini-fab
					(click)="addEducationSections()"
					matTooltip="{{ myInfoThreePrefix + 'education.addMoreTooltip' | translate }}"
					class="header-button"
					color="primary"
				>
					<mat-icon>add</mat-icon>
				</button>
			</div>
			<div fxFlex="5"></div>
		</div>

		<div fxFlex>
			<div fxFlex="5"></div>
			<tempus-card>
				<form>
					<h3 class="mat-h3" color="primary">{{ myInfoThreePrefix + 'education.summary' | translate }}</h3>
					<tempus-text-area
						id="education-summary"
						placeholder="{{ myInfoThreePrefix + 'education.summaryPlaceholder' | translate }}"
						[control]="$any(myInfoForm).get('educationSummary')"
					></tempus-text-area>
				</form>
			</tempus-card>
			<div fxFlex="5"></div>
		</div>

		<div *ngFor="let numEducation of qualifications.controls; let index = index">
			<div fxFlex="5"></div>
			<tempus-card>
				<mat-card-content>
					<form>
						<div class="card-header">
							<div class="header-button">
								<button
									mat-mini-fab
									(click)="removeEducationSection(index)"
									matTooltip="{{ myInfoThreePrefix + 'education.removeTooltip' | translate }}"
									color="primary"
								>
									<mat-icon>remove</mat-icon>
								</button>
							</div>
							<div>
								<h3 class="mat-h3" color="primary">
									<span>{{ myInfoThreePrefix + 'education.qualificationItemLabel' | translate }}</span
									>{{ index + 1 }}
								</h3>
							</div>
						</div>

						<div fxLayout="column" fxLayoutGap="10px">
							<div fxLayout.gt-sm="row" fxLayout.lt-md="column" fxLayoutGap="10px" fxFlex="33%" class="block-2">
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="start center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<tempus-text-input
										id="institution-{{ index }}"
										placeholder="{{ myInfoThreePrefix + 'education.institutionPlaceholder' | translate }}"
										cssClass="secondary"
										[control]="$any(numEducation).get('institution')"
									>
									</tempus-text-input>
								</div>
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="end center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<tempus-text-input
										id="field-{{ index }}"
										placeholder="{{ myInfoThreePrefix + 'education.fieldPlaceholder' | translate }}"
										cssClass="secondary"
										[control]="$any(numEducation).get('field')"
									></tempus-text-input>
								</div>
							</div>

							<div fxLayout.gt-sm="row" fxLayout.lt-md="column">
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="start center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<div class="error-container">
										<mat-error
											class="mat-body-2"
											*ngIf="
												$any(numEducation).get('institution').invalid &&
												($any(numEducation).get('institution').touched || $any(numEducation).get('institution').dirty)
											"
										>
											{{ myInfoThreePrefix + 'education.institutionErr' | translate }}
										</mat-error>
									</div>
								</div>
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="end center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<div class="error-container">
										<mat-error
											class="mat-body-2"
											*ngIf="
												$any(numEducation).get('field').invalid &&
												($any(numEducation).get('field').touched || $any(numEducation).get('field').dirty)
											"
										>
											{{ myInfoThreePrefix + 'education.qualificationErr' | translate }}
										</mat-error>
									</div>
								</div>
							</div>

							<div fxLayout.gt-sm="row" fxLayout.lt-md="column" fxLayoutGap="10px" fxFlex="33%" class="block-2">
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="33%"
									fxLayoutAlign="start center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<tempus-search-box
										id="country-{{ index }}"
										[options]="countries"
										placeholder="{{ 'onboardingSignup.location.countryPlaceholder' | translate }}"
										cssClass="secondary"
										(optionSelect)="updateStateOptions($event)"
										[control]="$any(numEducation).get('country')"
									></tempus-search-box>
								</div>
								<div fxFlex.gt-sm="50%" fxFlex.lt-md="33%" fxLayoutAlign="center center" fxFlexFill class="grid-item">
									<tempus-dropdown
										id="state-{{ index }}"
										[options]="states"
										label="{{ 'onboardingSignup.location.statePlaceholder' | translate }}"
										cssClass="secondary"
										[control]="$any(numEducation).get('state')"
									>
									</tempus-dropdown>
								</div>
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="33%"
									fxLayoutAlign="end center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<tempus-text-input
										id="city-{{ index }}"
										placeholder="{{ 'onboardingSignup.location.cityPlaceholder' | translate }}"
										cssClass="secondary"
										[control]="$any(numEducation).get('city')"
									></tempus-text-input>
								</div>
							</div>

							<div fxLayout.gt-sm="row" fxLayout.lt-md="column" fxLayoutGap="10px" fxFlex="33%" class="block-2">
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="start center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<tempus-text-input
										id="start-date-{{ index }}"
										[inputType]="InputType.DATE"
										placeholder="{{ 'onboardingSignup.dates.startPlaceholder' | translate }}"
										cssClass="secondary"
										[control]="$any(numEducation).get('startDate')"
									></tempus-text-input>
								</div>
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="end center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									fxLayout.lt-md="column"
									fxLayout="column"
									class="grid-item"
								>
									<tempus-text-input
										id="end-date-{{ index }}"
										[inputType]="InputType.DATE"
										placeholder="{{ 'onboardingSignup.dates.endPlaceholder' | translate }}"
										cssClass="secondary"
										[control]="$any(numEducation).get('endDate')"
									></tempus-text-input>
									<div style="display: flex; justify-content: flex-start; width: 100%; margin-left: 3rem">
										<mat-checkbox
											class="checkbox"
											[checked]="$any(numEducation).get('endDate').disabled"
											(change)="setCheck($event.checked, numEducation)"
										>
											<p class="mat-body-2 checkbox-label">Present</p>
										</mat-checkbox>
									</div>
								</div>
							</div>

							<div fxLayout.gt-sm="row" fxLayout.lt-md="column">
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="start center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<div class="error-container">
										<mat-error
											class="mat-body-2"
											*ngIf="
												$any(numEducation).get('startDate').invalid &&
												($any(numEducation).get('startDate').touched || $any(numEducation).get('startDate').dirty)
											"
										>
											{{ 'onboardingSignup.dates.validStartDateErr' | translate }}
										</mat-error>
									</div>
								</div>
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="end center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<div class="error-container">
										<mat-error
											class="mat-body-2"
											*ngIf="
												$any(numEducation).get('endDate').invalid &&
												($any(numEducation).get('endDate').touched || $any(numEducation).get('endDate').dirty)
											"
										>
											{{ 'onboardingSignup.dates.validEndDateErr' | translate }}
										</mat-error>
									</div>
								</div>
							</div>
							<div>
								<mat-error class="mat-body-2" *ngIf="$any(numEducation).errors?.['dateError']">
									{{ 'onboardingSignup.dates.startBeforeEndErr' | translate }}
								</mat-error>
							</div>
						</div>
					</form>
				</mat-card-content>
			</tempus-card>
			<div fxFlex="5"></div>
		</div>
		<div fxFlex>
			<div fxFlex="5"></div>
			<div class="info-title">
				<h2 class="mat-h2">{{ myInfoThreePrefix + 'certifications.title' | translate }}</h2>
			</div>
			<div>
				<button
					mat-mini-fab
					(click)="addCertificationSections()"
					matTooltip="{{ myInfoThreePrefix + 'certifications.addMoreTooltip' | translate }}"
					class="header-button"
					color="primary"
				>
					<mat-icon>add</mat-icon>
				</button>
			</div>
			<div fxFlex="5"></div>
		</div>
		<div *ngFor="let numCertification of certifications.controls; let index = index">
			<div fxFlex="5"></div>
			<tempus-card>
				<mat-card-content>
					<form>
						<div class="card-header container">
							<div class="header-button">
								<button
									mat-mini-fab
									(click)="removeCertificationSection(index)"
									matTooltip="{{ myInfoThreePrefix + 'certifications.removeTooltip' | translate }}"
									color="primary"
								>
									<mat-icon>remove</mat-icon>
								</button>
							</div>
							<div>
								<h3 class="mat-h3">
									<span>{{ myInfoThreePrefix + 'certifications.certificationItemLabel' | translate }}</span
									>{{ index + 1 }}
								</h3>
							</div>
						</div>
						<div fxLayout="column" fxLayoutGap="10px">
							<div fxLayout.gt-sm="row" fxLayout.lt-md="column" fxLayoutGap="10px" fxFlex="33%" class="block-2">
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="start center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<tempus-text-input
										id="certifying-authority-{{ index }}"
										placeholder="{{ myInfoThreePrefix + 'certifications.certifyingAuthorityPlaceholder' | translate }}"
										cssClass="secondary"
										[control]="$any(numCertification).get('certifyingAuthority')"
									>
									</tempus-text-input>
								</div>
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="end center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<tempus-text-input
										id="title-{{ index }}"
										placeholder="{{ myInfoThreePrefix + 'certifications.titlePlaceholder' | translate }}"
										cssClass="secondary"
										[control]="$any(numCertification).get('title')"
									></tempus-text-input>
								</div>
							</div>

							<div fxLayout.gt-sm="row" fxLayout.lt-md="column">
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="start center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<div class="error-container">
										<mat-error
											class="mat-body-2"
											*ngIf="
												$any(numCertification).get('certifyingAuthority').invalid &&
												($any(numCertification).get('certifyingAuthority').touched ||
													$any(numCertification).get('certifyingAuthority').dirty)
											"
										>
											{{ myInfoThreePrefix + 'certifications.certifyingAuthorityErr' | translate }}
										</mat-error>
									</div>
								</div>
								<div
									fxFlex.gt-sm="50%"
									fxFlex.lt-md="50%"
									fxLayoutAlign="end center"
									fxLayoutAlign.lt-md="center center"
									fxFlexFill
									class="grid-item"
								>
									<div class="error-container">
										<mat-error
											class="mat-body-2"
											*ngIf="
												$any(numCertification).get('title').invalid &&
												($any(numCertification).get('title').touched || $any(numCertification).get('title').dirty)
											"
										>
											{{ myInfoThreePrefix + 'certifications.titleErr' | translate }}
										</mat-error>
									</div>
								</div>
							</div>

							<div>
								<tempus-text-area
									id="summary-{{ index }}"
									placeholder="{{ myInfoThreePrefix + 'certifications.summaryPlaceholder' | translate }}"
									[control]="$any(numCertification).get('summary')"
								></tempus-text-area>
							</div>
						</div>
					</form>
				</mat-card-content>
			</tempus-card>
			<div fxFlex="5"></div>
		</div>
		<div fxFlex>
			<div fxFlex="5"></div>
			<div class="info-title">
				<h2 class="mat-h2">{{ myInfoThreePrefix + 'skills.title' | translate }}</h2>
			</div>
			<div fxFlex="5"></div>
		</div>
		<div fxFlex>
			<div fxFlex="5"></div>

			<tempus-card>
				<tempus-text-area
					id="skill-summary"
					placeholder="{{ myInfoThreePrefix + 'skills.summary' | translate }}"
					[control]="$any(myInfoForm).get('skillsSummary')"
				></tempus-text-area>
				<form>
					<div fxLayout="column" fxLayoutGap="30px">
						<div fxLayoutAlign="left center">
							<div>
								<input
									class="mat-body"
									id="skillChipInput"
									placeholder="{{ myInfoThreePrefix + 'skills.addPlaceholder' | translate }}"
									[matChipInputFor]="chipList"
									[matChipInputSeparatorKeyCodes]="separatorKeysCodes"
									[matChipInputAddOnBlur]="addOnBlur"
									(matChipInputTokenEnd)="addSkill($event)"
								/>
							</div>
						</div>
						<div fxLayoutAlign="center center">
							<mat-chip-list #chipList aria-label="Skill tags">
								<tempus-chip
									*ngFor="let skill of skills"
									[removable]="true"
									id="skill-dark"
									typography="mat-body"
									content="{{ skill }}"
									(onRemove)="removeSkill(skill)"
								>
								</tempus-chip>
							</mat-chip-list>
						</div>
					</div>
				</form>
			</tempus-card>
			<div fxFlex="5"></div>
		</div>
		<div class="container button-container">
			<button color="primary" mat-raised-button matStepperPrevious type="button" (click)="backStep()">
				{{ 'onboardingSignup.CTA.back' | translate }}
			</button>
			<button
				color="primary"
				mat-raised-button
				matStepperNext="button"
				[disabled]="!myInfoForm.valid"
				(click)="nextStep()"
			>
				{{ 'onboardingSignup.CTA.next' | translate }}
			</button>
		</div>
	</div>
</ng-container>
