<ng-container>
	<div fxLayout="column">
		<div fxFlex>
			<div fxFlex="5"></div>
			<div class="info-title">
				<h2 class="mat-h2">Certifications</h2>
			</div>
			<div>
				<button
					mat-mini-fab
					(click)="addCertificationSections()"
					matTooltip="Add more certifications sections"
					class="header-button"
					color="primary"
					id="add-button"
				>
					<mat-icon>add</mat-icon>
				</button>
			</div>
			<div fxFlex="5"></div>
		</div>
		<div *ngFor="let numCertification of certifications.controls; let index = index">
			<div fxFlex="5"></div>
			<tempus-card class="certification-input-container">
				<form>
					<div class="card-header container">
						<div class="header-button">
							<button
								mat-mini-fab
								(click)="removeCertificationSection(index)"
								matTooltip="Remove certification section"
								color="primary"
								id="remove-button"
							>
								<mat-icon>remove</mat-icon>
							</button>
						</div>
						<div>
							<h3 class="mat-h3">Certfication {{ index + 1 }}</h3>
						</div>
					</div>
					<div fxLayout="column" fxLayoutGap="10px">
						<div fxLayout.gt-sm="row" fxLayout.lt-md="column" fxLayoutGap="10px" fxFlex="33%" class="block-2">
							<div
								fxFlex.gt-sm="50%"
								fxFlex.lt-md="50%"
								fxLayoutAlign="start center"
								fxLayoutAlign.lt-md="center center"
								fxFlexFill
								class="grid-item"
							>
								<tempus-text-input
									id="certifying-authority-{{ index }}"
									placeholder="Certifying Authority *"
									cssClass="secondary"
									[control]="$any(numCertification).get('certifyingAuthority')"
								>
								</tempus-text-input>
							</div>
							<div
								fxFlex.gt-sm="50%"
								fxFlex.lt-md="50%"
								fxLayoutAlign="end center"
								fxLayoutAlign.lt-md="center center"
								fxFlexFill
								class="grid-item"
							>
								<tempus-text-input
									id="title-{{ index }}"
									placeholder="Title *"
									cssClass="secondary"
									[control]="$any(numCertification).get('title')"
								></tempus-text-input>
							</div>
						</div>

						<div fxLayout.gt-sm="row" fxLayout.lt-md="column">
							<div
								fxFlex.gt-sm="50%"
								fxFlex.lt-md="50%"
								fxLayoutAlign="start center"
								fxLayoutAlign.lt-md="center center"
								fxFlexFill
								class="grid-item"
							>
								<div class="error-container">
									<mat-error
										class="mat-body-2"
										id="certifying-authority-error"
										*ngIf="
											$any(numCertification).get('certifyingAuthority').invalid &&
											($any(numCertification).get('certifyingAuthority').touched ||
												$any(numCertification).get('certifyingAuthority').dirty)
										"
									>
										Please enter a certifying authority.
									</mat-error>
								</div>
							</div>
							<div
								fxFlex.gt-sm="50%"
								fxFlex.lt-md="50%"
								fxLayoutAlign="end center"
								fxLayoutAlign.lt-md="center center"
								fxFlexFill
								class="grid-item"
							>
								<div class="error-container">
									<mat-error
										class="mat-body-2"
										id="title-error"
										*ngIf="
											$any(numCertification).get('title').invalid &&
											($any(numCertification).get('title').touched || $any(numCertification).get('title').dirty)
										"
									>
										Please enter a title.
									</mat-error>
								</div>
							</div>
						</div>

						<div>
							<tempus-text-area
								id="summary-{{ index }}"
								placeholder="Summary"
								[control]="$any(numCertification).get('summary')"
							></tempus-text-area>
						</div>
					</div>
				</form>
			</tempus-card>
			<div fxFlex="5"></div>
		</div>
	</div>
</ng-container>
